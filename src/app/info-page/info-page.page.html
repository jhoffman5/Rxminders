<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-menu-button color="primary"></ion-menu-button>
    </ion-buttons>

    <ion-title>
      {{ prescription.preName }} Info
    </ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="home()" color="primary">
        <ion-icon slot="icon-only" src="assets/icon1.svg" color="primary"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<!-- ^ header ^ -->

<ion-content>
  <ion-card color="dark">
    <ion-card-header>
      <ion-card-title>
        Rxminder Time(s):
      </ion-card-title>
    </ion-card-header>
    <hr color="primary" style="padding:0; margin:0;">
    <ion-card-content>
      <span *ngFor="let time of prescription.reminderTime" style="margin: 0; padding: 0; max-width: 50%;">
        <ion-chip color="light" style="float: right;">
          <ion-label style="max-width: 100%;">
            <ion-datetime style="pointer-events: none;" displayFormat="h:mm A" value= "{{ time }}" class="ion-no-margin ion-no-padding"></ion-datetime>
          </ion-label>
        </ion-chip>
      </span>
    </ion-card-content>
  </ion-card>
  <ion-card color="dark">
    <ion-card-header>
      <ion-card-title>
        Info
      </ion-card-title>
      <!---<img src="../../assets/icon1.svg.svg" width="100px" height="100px">--->
    </ion-card-header>
    <hr color="primary" style="padding:0; margin:0;">
    <ion-card-content style="padding:0; margin:0;">
      <ion-item color="dark">
        Dosage: {{ prescription.dosage }}
      </ion-item>
      <!--
      <hr color="primary" style="padding:0; margin:0;">
      <ion-item color="dark">
        Quantity Left: {{ prescription.quantity }}
      </ion-item>
      -->
      <hr color="primary" style="padding:0; margin:0;">
      <ion-item color="dark">
        Notes: {{ prescription.notes }}
      </ion-item>
      <hr color="primary" style="padding:0; margin:0;">
      <ion-item color="dark">
        <a color="dark" (click)="search( prescription.preName )">Search Info</a>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card color="dark">
    <ion-card-header>
      <ion-card-title>
        Progress
      </ion-card-title>
    </ion-card-header>
    <hr color="primary" style="padding:0; margin:0;">
    <ion-card-content color="dark" style="padding:0; margin:0;">
      <ion-item color="dark" style="max-width: 100%; padding:0; margin:0;">
        You have taken {{ prescription.countCompleted }} out of {{ prescription.countCompleted + prescription.countMissed }} {{ prescription.preName }}s on time
      </ion-item>
      <ion-item color="dark" style="max-width: 100%; padding:0; margin:0;">
        <ion-progress-bar color="primary" value="{{ progress }}" style="--buffer-background: #f04141; padding:0; margin:0;"></ion-progress-bar>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!---<ion-item style="height:fit-content">--->
    <span style="width:50%; float:left;" >    
      <ion-chip color="dark" style="float: right;" (click)="editPrescription( prescription.preName )">
        <ion-label color="primary">Edit</ion-label><ion-icon name="create" color="primary"></ion-icon>
      </ion-chip>
    </span>
    <span style="width:50%; float: right;">
      <ion-chip color="danger" style="float: left;" (click)="archivePrescription( prescription.preName )" *ngIf="prescription.status=='active'">
        <ion-label style="max-width: 100%;">
          <ion-label>Archive </ion-label><ion-icon name="archive"></ion-icon>
        </ion-label>
      </ion-chip>
      <ion-chip color="success" style="float: left;" (click)="activatePrescription( prescription.preName )" *ngIf="prescription.status=='archived'">
        <ion-label style="max-width: 100%;">
          <ion-label>Renew </ion-label><ion-icon name="refresh" color="success"></ion-icon>
        </ion-label>
      </ion-chip>
    </span>
  <!--/ion-item-->


  

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-button color="dark">
      <ion-icon slot="icon-only" src="assets/ellipsis.svg" color="primary"></ion-icon>
    </ion-button>
    <ion-fab-list side="top">
      <ion-fab-button color="dark">
      </ion-fab-button>
      <ion-fab-button color="dark" (click)="deletePopUp( prescription.preName )">
        <ion-icon name="trash" color="danger"></ion-icon>
      </ion-fab-button>
      <!--
      <ion-fab-button color="dark" (click)="archivePrescription( prescription.preName )" *ngIf="prescription.status=='active'">
        <ion-icon name="archive"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="dark" (click)="activatePrescription( prescription.preName )" *ngIf="prescription.status=='archived'">
        <ion-icon name="refresh" color="success"></ion-icon>
      </ion-fab-button>-->
      <!--ion-fab-button color="dark" (click)="editPrescription( prescription.preName )">
        <ion-icon name="create" color="primary"></ion-icon>
      </ion-fab-button>-->
      <ion-fab-button color="dark" (click)="search( prescription.preName )">
        <ion-icon name="information-circle"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
